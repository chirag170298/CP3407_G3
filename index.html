<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Supermart Admin Dashboard</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }

        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background-color: #ffffff;
            color: #000;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
        }

        .navbar .logo a {
            color: #D52B1E;
            text-decoration: none;
            font-size: 24px;
            font-weight: bold;
        }

        .navbar .nav-links {
            display: flex;
            gap: 20px;
        }

        .navbar .nav-links a {
            color: #000;
            text-decoration: none;
            font-size: 16px;
            transition: color 0.3s ease;
        }

        .navbar .nav-links a:hover {
            color: #D52B1E;
        }

        .dashboard {
            padding: 20px;
        }

        .dashboard h2 {
            text-align: center;
            margin-bottom: 20px;
        }

        .metrics-container {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 40px;
        }

        .metric {
            background-color: #ffffff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            flex: 1;
            min-width: 200px;
            text-align: center;
        }

        .metric h3 {
            margin: 0;
            font-size: 18px;
            color: #333;
        }

        .metric p {
            font-size: 24px;
            color: #D52B1E;
            margin: 10px 0 0;
        }

        .quick-actions {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 20px;
        }

        .quick-actions button {
            padding: 15px 25px;
            font-size: 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            background-color: #D52B1E;
            color: #fff;
            transition: background-color 0.3s ease;
        }

        .quick-actions button:hover {
            background-color: #b2241b;
        }

        .footer {
            padding: 20px;
            background-color: #D52B1E;
            color: #fff;
            text-align: center;
            position: fixed;
            bottom: 0;
            width: 100%;
        }
    </style>
</head>
<body>
    <div class="navbar">
        <div class="logo">
            <a href="#">Supermart Admin</a>
        </div>
        <div class="nav-links">
            <a href="#dashboard">Dashboard</a>
            <a href="#inventory">Inventory</a>
            <a href="#promotions">Promotions</a>
            <a href="#employees">Employees</a>
        </div>
    </div>

    <div class="dashboard" id="dashboard">
        <h2>Dashboard Overview</h2>
        <div class="metrics-container">
            <div class="metric">
                <h3>Total Sales</h3>
                <p id="sales-figures"></p>
            </div>
            <div class="metric">
                <h3>Inventory Levels</h3>
                <p id="inventory-levels"></p>
            </div>
            <div class="metric">
                <h3>Upcoming Promotions</h3>
                <p id="upcoming-promotions"></p>
            </div>
            <div class="metric">
                <h3>Employee Attendance</h3>
                <p id="employee-attendance"></p>
            </div>
        </div>

        <h2>Quick Actions</h2>
        <div class="quick-actions">
            <button onclick="addNewProduct()">Add New Product</button>
            <button onclick="createPromotion()">Create Promotion</button>
            <button onclick="scheduleShift()">Schedule Shift</button>
        </div>
    </div>

    <div class="footer">
        <p>&copy; 2024 Supermart. All rights reserved.</p>
    </div>

    <script>
        // Function to fetch data from CSV file
        function fetchCSVData() {
    console.log('Fetching CSV data...');
    fetch('demo_data.csv')
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.text();
        })
        .then(data => {
            console.log('CSV data fetched successfully');
            processData(data);
        })
        .catch(error => console.error('Error fetching data:', error));
}

function processData(csvData) {
    console.log('Processing CSV data...');
    const rows = csvData.split('\n');
    const metrics = {};

    rows.forEach((row, index) => {
        const columns = row.split(',');
        if (columns.length < 2) {
            console.warn(`Skipping invalid row ${index}: ${row}`);
            return;
        }
        const metric = columns[0].trim();
        const value = columns.slice(1).map(col => col.trim()).join(',');
        metrics[metric] = value;
    });

    console.log('CSV data processed:', metrics);

    document.getElementById('sales-figures').innerText = `$${metrics['total_sales_monthly'] || 'N/A'}`;
    document.getElementById('inventory-levels').innerText = `Inventory: ${metrics['inventory_apples'] || 'N/A'} apples, ${metrics['inventory_milk'] || 'N/A'} milk`;
    document.getElementById('upcoming-promotions').innerText = `Upcoming Promotions: ${metrics['upcoming_promotion_1'] || 'N/A'}, ${metrics['upcoming_promotion_2'] || 'N/A'}`;
    document.getElementById('employee-attendance').innerText = `${metrics['employee_present'] || 'N/A'} Present, ${metrics['employee_absent'] || 'N/A'} Absent`;
}

// Call fetchCSVData initially
fetchCSVData();
// You can optionally add a setInterval to update data periodically
// setInterval(fetchCSVData, 5000); // Update every 5 seconds

// Placeholder functions for the quick actions (replace with actual functionality)
function addNewProduct() {
    alert("Add New Product button clicked");
}

function createPromotion() {
    alert("Create Promotion button clicked");
}

function scheduleShift() {
    alert("Schedule Shift button clicked");
}

    </script>
</body>
</html>
